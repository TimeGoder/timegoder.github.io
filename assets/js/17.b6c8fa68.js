(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{344:function(s,t,n){"use strict";n.r(t);var a=n(3),e=Object(a.a)({},(function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h1",{attrs:{id:"redux-的基础使用"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#redux-的基础使用"}},[s._v("#")]),s._v(" Redux 的基础使用")]),s._v(" "),n("blockquote",[n("p",[s._v("Redux是一个用来管理管理数据状态和UI状态的JavaScript应用工具。随着JavaScript单页应用（SPA）开发日趋复杂，JavaScript需要管理比任何时候都要多的state（状态），Redux就是降低管理难度的。")])]),s._v(" "),n("p",[n("img",{attrs:{src:"https://jspang.com/images/redux001.jpg",alt:"redux"}})]),s._v(" "),n("p",[s._v("感谢"),n("a",{attrs:{href:"https://jspang.com/",target:"_blank",rel:"noopener noreferrer"}},[s._v("技术胖"),n("OutboundLink")],1),s._v("的引导。")]),s._v(" "),n("p",[n("strong",[s._v("在此先了解一下Redux的一个流程")]),s._v(" "),n("img",{attrs:{src:"https://jspang.com/images/redux_flow_book.png",alt:"redux的流程"}})]),s._v(" "),n("blockquote",[n("p",[s._v("简单来说，就是一个借书的过程， 借书者去图书馆结束，先见到的肯定是图书管理员，借书者先跟管理员说要借 《时间简史》，管理员回到图书馆，使用图书馆里软件去查找《时间简史》在哪里等过程。后期可以通过图书管理软件完成书本的归还等实现。")])]),s._v(" "),n("h2",{attrs:{id:"初始化一个项目-todolist-js"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#初始化一个项目-todolist-js"}},[s._v("#")]),s._v(" 初始化一个项目 TodoList.js")]),s._v(" "),n("p",[s._v("使用了 AntDesign UI组件库美化一下子界面")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("// TodoList.js\nimport React, { Component } from 'react';\nimport 'antd/dist/antd.css'\nimport { Input , Button , List } from 'antd'\n\nconst data=[\n    '白日依山尽',\n    '黄河入海流',\n    '早起虫儿被鸟吃'\n]\n\nclass TodoList extends Component {\n    render() { \n        return ( \n            <div style={{margin:'10px'}}>\n                <div>\n                    <Input placeholder='write someting' style={{ width:'250px', marginRight:'10px'}}/>\n                    <Button type=\"primary\">增加</Button>\n                </div>\n                <div style={{margin:'10px',width:'300px'}}>\n                    <List\n                        bordered\n                        dataSource={data}\n                        renderItem={item=>(<List.Item>{item}</List.Item>)}\n                    />    \n                </div>\n            </div>\n         );\n    }\n}\nexport default TodoList;\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br")])]),n("h2",{attrs:{id:"引入使用-redux"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#引入使用-redux"}},[s._v("#")]),s._v(" 引入使用 Redux")]),s._v(" "),n("p",[s._v("npm install --save redux")]),s._v(" "),n("ul",[n("li",[s._v("在src目录下创建一个store文件夹,然后在文件夹下创建一个index.js文件。")]),s._v(" "),n("li",[s._v("在store文件夹下，新建一个文件reducer.js。")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("// index.js\nimport { createStore } from 'redux'  // 引入createStore方法\nconst store = createStore()          // 创建数据存储仓库\nexport default store                 //暴露出去\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])]),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("// reducer.js\nimport { createStore } from 'redux'  //  引入createStore方法\nimport reducer from './reducer'    \nconst store = createStore(reducer) // 创建数据存储仓库\nexport default store   //暴露出去\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br")])]),n("h3",{attrs:{id:"在store中为todolist初始化数据"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#在store中为todolist初始化数据"}},[s._v("#")]),s._v(" 在store中为todoList初始化数据")]),s._v(" "),n("blockquote",[n("p",[s._v("在reducer.js文件的defaultState对象中，加入两个属性:inputValue和list。")])]),s._v(" "),n("p",[n("strong",[s._v("记住：Reducer里只能接收state，不能改变state。")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("const defaultState = {\n   inputValue : 'Write Something',\n   list:[\n       '白日依山尽',\n       '黄河入海流',\n       '早起虫儿被鸟吃'\n   ]\n}\n// state: 指的是原始仓库里的状态。\n// action: 指的是action新传递的状态。\nexport default (state = defaultState,action)=>{\n   return state\n}\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br")])]),n("h3",{attrs:{id:"在-todolist-js-获取-store-数据"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#在-todolist-js-获取-store-数据"}},[s._v("#")]),s._v(" 在 TodoList.js 获取 store 数据")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("import React, { Component } from 'react';\nimport 'antd/dist/antd.css'\nimport { Input , Button , List } from 'antd'\nimport store from './store'\n\n\n\nclass TodoList extends Component {\nconstructor(props){\n   super(props)\n   //关键代码-----------start\n   this.state=store.getState();\n   //关键代码-----------end\n   console.log(this.state)\n}\n   render() { \n       return ( \n           <div style={{margin:'10px'}}>\n               <div>\n                   \n                   <Input placeholder={this.state.inputValue} style={{ width:'250px', marginRight:'10px'}}/>\n                   <Button type=\"primary\">增加</Button>\n               </div>\n               <div style={{margin:'10px',width:'300px'}}>\n                   <List\n                       bordered\n                       //关键代码-----------start\n                       dataSource={this.state.list}\n                       //关键代码-----------end\n                       renderItem={item=>(<List.Item>{item}</List.Item>)}\n                   />    \n               </div>\n           </div>\n        );\n   }\n}\nexport default TodoList;\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br")])]),n("p",[n("strong",[s._v("对于事件的编写和 react 基础类似")]),s._v("\n但是需要给每一个方法添加类型，否则无法追踪")]),s._v(" "),n("h2",{attrs:{id:"创建action"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#创建action"}},[s._v("#")]),s._v(" 创建Action")]),s._v(" "),n("blockquote",[n("p",[s._v("Action就是一个对象，这个对象一般有两个属性，第一个是对Action的描述，第二个是要改变的值。action就创建好了，但是要通过dispatch()方法传递给store。我们在action下面再加入一句代码。")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("// TodoList.js\nchangeInputValue(e){\n    const action ={\n        type:'changeInput',\n        value:e.target.value\n    }\n    store.dispatch(action)\n}\n\n// Reducer.js\nexport default (state = defaultState,action)=>{\n    if(action.type === 'changeInput'){\n        let newState = JSON.parse(JSON.stringify(state)) //深度拷贝state\n        newState.inputValue = action.value\n        return newState\n    }\n    return state\n}\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br")])]),n("h2",{attrs:{id:"让组件发生更新"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#让组件发生更新"}},[s._v("#")]),s._v(" 让组件发生更新")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("constructor(props){\n    super(props)\n    this.state=store.getState();\n    this.changeInputValue= this.changeInputValue.bind(this)\n    //----------关键代码-----------start\n    this.storeChange = this.storeChange.bind(this)  //转变this指向\n    store.subscribe(this.storeChange) //订阅Redux的状态\n    //----------关键代码-----------end\n}\n\n storeChange(){\n     this.setState(store.getState())\n }\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br")])]),n("p",[n("strong",[s._v("以上就是对 Rdeux 基础使用，鉴于自己的想法，只是记载了自己的理解")])])])}),[],!1,null,null,null);t.default=e.exports}}]);